[{"id":"ysxq.cc","name":"播剧网","type":1,"nsfw":false,"api":"https://www.ysxq.cc","extra":{"js":{"category":[{"text":"首页","id":"/"},{"text":"电影","id":"1"},{"text":"连续剧","id":"2"},{"text":"综艺","id":"3"},{"text":"动漫","id":"4"},{"text":"短剧","id":"60"}],"home":"const cate=env.get(\"category\");const page=env.get(\"page\");if(cate==\"/\"){const $=utils_1.kitty.load(await(0,utils_1.req)(env.baseUrl));const banner=$(\".slid-e-list .slid-e-list-box\").toArray().map(item=>{const cover=$(item).find(\".swiper-lazy\").attr(\"data-background\")??\"\";const title=$(item).find(\".slide-info-title\").text().trim();const desc=$(item).find(\".slide-info\").text().trim();const remark=$(item).find(\".slid-e-type\").text().trim();const id=$(item).find(\".tim-bj.collection\").attr(\"data-id\")??\"\";return{title,cover,desc,remark,id}});const table=$(\".theme2 .box-width.wow\").toArray().map(item=>{const title=$(item).find(\".title .title-h\").text().trim();const isCard=$(item).find(\".swiper-wrapper\").length>0;const videos=$(item).find(\".public-list-box\").toArray().map(subItem=>{const a=$(subItem).find(\"a\");const title=a.attr(\"title\")??\"\";const id=a.attr(\"href\")??\"\";let cover=env.baseUrl+a.find(\"img.lazy\").attr(\"data-src\");const remark=a.find(\".public-list-prb\").text().trim();return{id,title,cover,remark}});if(!videos.length)return null;return{type:isCard?\"card\":\"list\",title,videos}}).filter(item=>!!item);return{type:\"complex\",data:[{type:\"banner\",videos:banner},...table]}}const resp=JSON.parse(await(0,utils_1.req)(`${env.baseUrl}/index.php/ds_api/vod`,{method:\"POST\",noCache:true,data:{type:+cate,level:0,by:\"time\",page}}));return resp.list.map(item=>{return{id:item.url,title:item.vod_name,cover:env.baseUrl+item.vod_pic,remark:item.vod_remarks.trim(),desc:item.vod_blurb.trim()}})","detail":"const id=env.get(\"movieId\");const $=utils_1.kitty.load(await(0,utils_1.req)(`${env.baseUrl}${id}`));const desc=$(\"#height_limit\").text().trim();const tabs=$(\".anthology-tab .swiper-slide\").toArray().map(item=>{const text=$(item).text().replace(/\\d*$/,\"\");return text.trim()});const videos=$(\".anthology-list .anthology-list-box\").toArray().map(item=>{return $(item).find(\"li\").toArray().map(subItem=>{const id=$(subItem).find(\"a\").attr(\"href\")??\"\";const text=$(subItem).text();return{id,text}})});const playlist=tabs.map((tab,index)=>{const value=videos[index];return{title:tab,videos:value}});return{desc,playlist}","search":"const wd=env.get(\"keyword\");const page=env.get(\"page\");const url=`${env.baseUrl}/vodsearch/${wd}----------${page}---.html`;const $=utils_1.kitty.load(await(0,utils_1.req)(url));return $(\".box-width .row .vod-detail\").toArray().map(item=>{const img=$(item).find(\"img.lazy\");const cover=env.baseUrl+img.attr(\"data-src\");const title=img.attr(\"alt\")??\"\";const remark=$($(item).find(\".slide-info-remarks\").toArray()[0]).text().trim();const id=$(item).find(\"a\").attr(\"href\")??\"\";return{id,cover,title,remark}})"}}},{"id":"duonaovod","name":"多瑙影院","api":"https://www.duonaovod.com","nsfw":false,"type":1,"extra":{"gfw":false,"searchLimit":12,"js":{"category":[{"text":"首页","id":"/"},{"text":"电影","id":"1"},{"text":"电视剧","id":"2"},{"text":"综艺","id":"3"},{"text":"动漫","id":"4"},{"text":"短剧","id":"57"},{"text":"动作片","id":"6"},{"text":"喜剧片","id":"7"},{"text":"爱情片","id":"8"},{"text":"科幻片","id":"9"},{"text":"恐怖片","id":"10"},{"text":"剧情片","id":"11"},{"text":"奇幻片","id":"30"},{"text":"战争片","id":"12"},{"text":"犯罪片","id":"54"},{"text":"动漫电影","id":"55"},{"text":"伦理片","id":"34"},{"text":"国产剧","id":"13"},{"text":"港台剧","id":"14"},{"text":"日韩剧","id":"15"}],"home":"const cate=env.get(\"category\");const page=env.get(\"page\");if(cate==\"/\"){const $=utils_1.kitty.load(await(0,utils_1.req)(env.baseUrl));const cards=$(\".conch-ctwrap .container\").toArray().map(item=>{const _title=$(item).find(\".hl-rb-title\").toArray();if(!_title.length)return null;const title=$(_title[0]).text().trim();const isCard=$(item).find(\".hl-vod-list\").hasClass(\"swiper-wrapper\");const list=$(item).find(\".hl-row-box .hl-list-wrap .hl-list-item\").toArray();const table=list.map(subItem=>{const a=$(subItem).find(\"a\");const id=a?.attr(\"href\")??\"\";const cover=a?.attr(\"data-original\")??\"\";const title=a?.attr(\"title\")??\"\";const remark=a?.find(\".remarks\")?.text().trim();return{id,cover,title,remark}});if(!table.length)return null;return{type:isCard?\"card\":\"list\",title,videos:table}}).filter(item=>!!item);return{type:\"complex\",data:[{type:\"markdown\",extra:{markdown:`\n> 欢迎使用小猫影视(${utils_1.kitty.VERSION})\n> 该源仅做测试使用，不可用于其他用途\n> 飞机交流群: https://t.me/catmovie1145\n> 小猫其他指南: https://xmpro.netlify.app\n`}},...cards]}}const url=`${env.baseUrl}/index.php/vod/type/id/${cate}/page/${page}.html`;const $=utils_1.kitty.load(await(0,utils_1.req)(url));return $(\".hl-vod-list li\").toArray().map(item=>{const a=$(item).find(\"a\");const id=a.attr(\"href\")??\"\";const cover=a.attr(\"data-original\")??\"\";const title=a.attr(\"title\")??\"\";const remark=$(item).find(\".hl-lc-1.remarks\").text()??\"\";return{id,title,cover,remark}})","detail":"const id=env.get(\"movieId\");const url=`${env.baseUrl}${id}`;const $=utils_1.kitty.load(await(0,utils_1.req)(url));let desc=$(\".hl-col-xs-12.blurb\").text().trim().replace(\"\\u7B80\\u4ECB\\uFF1A\",\"\");if(desc==\"\\u6682\\u65E0\\u7B80\\u4ECB\")desc=\"\";const tabs=$(\".hl-plays-from a\").toArray().map(item=>{return $(item).text().trim()});const _videos=$(\".hl-tabs-box\").toArray().map(item=>{return $(item).find(\"li a\").toArray().map(item=>{const id=$(item).attr(\"href\")??\"\";const text=$(item).text()??\"\";return{id,text}})});const playlist=tabs.map((title,index)=>{const videos=_videos[index];return{title,videos}});return{desc,playlist}","search":"const wd=env.get(\"keyword\");const page=env.get(\"page\");const url=`${env.baseUrl}/index.php/vod/search/page/${page}/wd/${wd}.html`;const $=utils_1.kitty.load(await(0,utils_1.req)(url));return $(\".hl-one-list li\").toArray().map(item=>{const a=$(item).find(\"a\");const id=a.attr(\"href\")??\"\";const cover=a.attr(\"data-original\")??\"\";const title=a.attr(\"title\")??\"\";return{id,cover,title,remark:\"\"}})","parseIframe":"const iframe=env.get(\"iframe\");const html=await(0,utils_1.req)(`${env.baseUrl}${iframe}`);const $=utils_1.kitty.load(html);const script=$(\"script\").toArray().filter(item=>{const text=$(item).text().trim();if(text.startsWith(\"var player_aaaa\"))return true})[0];let code=$(script).text().trim().replace(\"var player_aaaa=\",\"\");code=`(${code})`;const unsafeObj=eval(code);if(unsafeObj.encrypt==\"1\"){unsafeObj.url=unescape(unsafeObj.url)}else if(unsafeObj.encrypt==\"2\"){unsafeObj.url=unescape(atob(unsafeObj.url))}return unsafeObj.url"}}},{"id":"fengche","name":"风车动漫_WEB","api":"https://www.fengche.one","type":1,"nsfw":false,"extra":{"js":{"category":[{"text":"日本动漫","id":"ribendongman"},{"text":"国产动漫","id":"guochandongman"},{"text":"动漫电影","id":"dongmandianying"},{"text":"欧美动漫","id":"oumeidongman"}],"home":"const cate=env.get(\"category\")||\"ribendongman\";const page=env.get(\"page\")||\"1\";const url=`${env.baseUrl}/type/${cate}-${page}.html`;const html=await req(url);const $=kitty.load(html);return $(\".c2_list li\").toArray().map(item=>{const el=$(item);const a=el.find(\"a.tcl-img\");return{id:a.attr(\"href\")??\"\",title:a.attr(\"title\")??\"\",cover:el.find(\"div.tc_img\").attr(\"data-original\")??\"\",remark:el.find(\"p.tc_wz\").text().trim(),playlist:[]}})","search":"const keyword=env.get(\"keyword\");const page=env.get(\"page\")||\"1\";const url=`${env.baseUrl}/search/${keyword}-${page}.html`;const html=await req(url);const $=kitty.load(html);return $(\".c2_list li\").toArray().map(item=>{const el=$(item);const a=el.find(\"a.tcl-img\");return{id:a.attr(\"href\")??\"\",title:a.attr(\"title\")??\"\",cover:el.find(\"div.tc_img\").attr(\"data-original\")??\"\",remark:el.find(\"p.tc_wz\").text().trim(),playlist:[]}})","detail":"const id=env.get(\"movieId\");const url=`${env.baseUrl}${id}`;const html=await req(url);const $=kitty.load(html);const title=$(\"div.con_name h1 span\").text().trim();const cover=$(\"div.leftimg .img_wrapper\").attr(\"data-original\")??\"\";const remark=$(\"p.zy span\").text().trim();const desc=$(\"meta[name=\\\"description\\\"]\").attr(\"content\")?.trim()||\"\";const playlist=[];$(\"div.tab-content\").each((i,el)=>{const tabTitle=$(el).attr(\"id\")?.replace(\"tab_con_playlist_\",\"\")||`线路${i+1}`;const videos=$(el).find(\"ul.con_c2_list li a\").toArray().map(a=>{const $a=$(a);const href=$a.attr(\"href\")??\"\";return{text:$a.text().trim(),id:href.startsWith(\"/\")?`${env.baseUrl}${href}`:href}});if(videos.length>0){playlist.push({title:`线路${tabTitle}`,videos})}});return{id,title,cover:cover.startsWith(\"//\")?`https:${cover}`:cover,remark,desc,playlist}","parseIframe":"return kitty.utils.getM3u8WithIframe(env)"}}},{"id":"kimivod$","name":"KiMivod","type":1,"nsfw":false,"api":"https://cn.kimivod.com","extra":{"gfw":false,"js":{"category":[{"text":"首页","id":"/"},{"text":"電影","id":"1"},{"text":"電視","id":"2"},{"text":"綜藝","id":"3"},{"text":"動漫","id":"4"}],"home":"const headers={\"User-Agent\":\"Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.0 Mobile/15E148 Safari/604.1\"};const cate=env.get(\"category\")||\"/\";const page=env.get(\"page\")||1;const url=cate===\"/\"?`${env.baseUrl}`:`${env.baseUrl}/list/?${cate}-${page}.html`;const html=await(0,utils_1.req)(url,{headers});const $=utils_1.kitty.load(html);const items=$(\".myui-vodlist__box\").toArray();return items.map(item=>{const a=$(item).find(\"a\").first();const id=a.attr(\"href\")??\"\";const title=a.attr(\"title\")?.trim()||$(item).find(\"img\").attr(\"alt\")?.trim()||\"\";const cover=a.attr(\"data-original\")?.trim()??\"\";const remark=$(item).find(\".pic-text .text-right\").text().trim();const desc=$(item).find(\"p .text-muted\").text().trim();return{id,title,cover,remark,desc}})","detail":"const headers={\"User-Agent\":\"Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.0 Mobile/15E148 Safari/604.1\"};const id=env.get(\"movieId\");let url=id;if(!id.startsWith(\"http\")){url=`${env.baseUrl}${id}`}const html=await(0,utils_1.req)(url,{headers});const temp=utils_1.kitty.load(html);const targetUrl=temp(\".btn .btn-warm\").attr(\"href\")??\"\";const detailHtml=await(0,utils_1.req)(targetUrl,{headers});const $=utils_1.kitty.load(detailHtml);const titles=$(\".tabs a\").toArray().map(item=>{return $(item).find(\".max\").text().trim()});const videos=$(\".page\").toArray().map(item=>{return $(item).find(\".playno a\").toArray().map(item=>{const id=$(item).attr(\"href\")??\"\";const title=$(item).text().trim();return{text:title,id}})});const list=titles.map((title,index)=>{return{title,videos:videos[index]}});return{playlist:list}","search":"const wd=env.get(\"keyword\");const page=env.get(\"page\");const headers={\"User-Agent\":\"Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.0 Mobile/15E148 Safari/604.1\"};const url=`${env.baseUrl}/search.php?page=${page}&searchword=${wd}&searchtype=`;const html=await(0,utils_1.req)(url,{headers});const $=utils_1.kitty.load(html);const items=$(\".myui-vodlist__media .active\").toArray().map(cx=>{const a=$(cx).find(\"a\");const id=$(a).attr(\"href\")??\"\";const title=$(a).attr(\"title\")?.trim()??\"\";const cover=$(a).attr(\"data-original\")??\"\";const remark=$(cx).find(\".pic-tag.pic-tag-top\").text().trim();return{id,title,cover,remark}});return items","parseIframe":"const headers={\"User-Agent\":\"Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.0 Mobile/15E148 Safari/604.1\"};const iframe=env.get(\"iframe\");const html=await(0,utils_1.req)(iframe.startsWith(\"http\")?iframe:`${env.baseUrl}${iframe}`,{headers});const $=utils_1.kitty.load(html);return $(\"meta[itemprop=\\\"contentUrl\\\"]\").attr(\"content\")?.trim()??\"\""}}},{"id":"libvio","name":"LIBVIO_WEB","api":"https://www.libvio.cc","nsfw":false,"type":1,"extra":{"js":{"category":[{"text":"电影","id":"1"},{"text":"剧集","id":"2"},{"text":"动漫","id":"4"},{"text":"日韩剧","id":"15"},{"text":"欧美剧","id":"16"}],"home":"const cate=env.get(\"category\");const page=env.get(\"page\")||1;const url=`${env.baseUrl}/type/${cate}-${page}.html`;const html=await req(url);const $=kitty.load(html);return $(\".stui-vodlist__box\").toArray().map(item=>{const a=$(item).find(\"a.stui-vodlist__thumb\");const title=a.attr(\"title\")??\"\";const remark=a.find(\".pic-text.text-right\").text().trim()??\"\";const quality=title.match(/(1080P|720P|蓝光|HD|清晰)/)?.[1]??\"\";return{id:a.attr(\"href\")??\"\",title,cover:a.attr(\"data-original\")??\"\",desc:\"\",remark:quality||remark,playlist:[]}})","detail":"const id=env.get(\"movieId\");const url=`${env.baseUrl}${id}`;const html=await req(url);const $=kitty.load(html);let desc=$(\".detail-content\").text().trim().replace(\"\\u7B80\\u4ECB\\uFF1A\",\"\");if(desc==\"\\u6682\\u65E0\\u7B80\\u4ECB\")desc=\"\";const tabs=$(\".stui-pannel__head\").toArray().map(item=>{return $(item).find(\"h3\").text().trim()});const _videos=$(\".stui-content__playlist\").toArray().map(item=>{return $(item).find(\"li a\").toArray().map(item=>{const id=$(item).attr(\"href\")??\"\";const text=$(item).text()??\"\";return{id,text}})});const playlist=tabs.map((title,index)=>{const videos=_videos[index];return{title,videos}});return{desc,playlist}","search":"const page=env.get(\"page\")||\"1\";const wd=env.get(\"keyword\");const url=`${env.baseUrl}/search/-------------.html?wd=${encodeURIComponent(wd)}&page=${page}`;const html=await req(url);const $=kitty.load(html);return $(\".stui-vodlist__box\").toArray().map(item=>{const a=$(item).find(\"a\");const title=a.attr(\"title\")??\"\";const remark=$(item).find(\".pic-text.text-right\").text().trim()??\"\";const quality=title.match(/(1080P|720P|蓝光|HD|清晰)/)?.[1]??\"\";return{id:a.attr(\"href\")??\"\",title,cover:a.attr(\"data-original\")??\"\",desc:\"\",remark:quality||remark,playlist:[]}})","parseIframe":"try{const result=await kitty.utils.getM3u8WithIframe(env);if(result&&typeof result===\"object\"&&result.url)return result}catch(e){console.log(\"\\u81EA\\u52A8\\u89E3\\u6790\\u5931\\u8D25\\uFF0C\\u5C1D\\u8BD5\\u624B\\u52A8\\u5904\\u7406\")}const iframe=env.get(\"iframe\");const playUrl=`${env.baseUrl}${iframe}`;const html=await req(playUrl);const $=kitty.load(html);const scriptText=$(\"script\").toArray().map(s=>$(s).text()).find(t=>t.includes(\"player_aaaa\"));if(!scriptText){return{type:\"iframe\",url:playUrl,headers:{Referer:env.baseUrl}}}const match=scriptText.match(/player_aaaa\\s*=\\s*(\\{[\\s\\S]*?\\});/);if(!match){return{type:\"iframe\",url:playUrl,headers:{Referer:env.baseUrl}}}let raw=match[1];raw=raw.replace(/([\\w]+):/g,\"\\\"$1\\\":\");raw=raw.replace(/'/g,\"\\\"\");const player=JSON.parse(raw);let url=player.url;if(player.encrypt===1){url=decodeURIComponent(url)}else if(player.encrypt===2){url=decodeURIComponent(base64decode(url))}else if(player.encrypt===3){url=decodeURIComponent(utf8to16(base64decode(url)))}if(url.endsWith(\".mp4\")||url.endsWith(\".m3u8\")){return{url,headers:{Referer:\"https://www.libvio.cc/\"}}}const vr2Url=`${env.baseUrl}/vid/plyr/vr2.php?url=${encodeURIComponent(url)}&next=${player.link_next}&id=${player.id}&nid=${player.nid}`;const vr2Html=await req(vr2Url);const videoMatch=vr2Html.match(/[\"'](https?:\\/\\/[^\"']+\\.(mp4|m3u8|flv|ts))[\"']/);if(videoMatch){return{url:videoMatch[1],headers:{Referer:\"https://www.libvio.cc/\"}}}return{type:\"iframe\",url:playUrl,headers:{Referer:env.baseUrl}}"}}},{"id":"mifun","name":"MiFun","api":"https://ios.mifun.org/","nsfw":false,"type":1,"extra":{"gfw":false,"searchLimit":10,"js":{"category":[{"text":"首页","id":"/"},{"text":"番剧","id":"1"},{"text":"国创","id":"2"},{"text":"剧场","id":"3"},{"text":"美漫","id":"4"},{"text":"特辑","id":"5"}],"home":"const cate=env.get(\"category\");const page=env.get(\"page\");if(cate==\"/\"){const $=utils_1.kitty.load(await(0,utils_1.req)(env.baseUrl));const cards=$(\".conch-ctwrap .container\").toArray().map(item=>{const _title=$(item).find(\".hl-rb-title\").toArray();if(!_title.length)return null;const title=$(_title[0]).text().trim();const isCard=$(item).find(\".hl-vod-list\").hasClass(\"swiper-wrapper\");const list=$(item).find(\".hl-row-box .hl-list-wrap .hl-list-item\").toArray();const table=list.map(subItem=>{const a=$(subItem).find(\"a\");const id=a?.attr(\"href\")??\"\";const cover=a?.attr(\"data-original\")??\"\";const title=a?.attr(\"title\")??\"\";const remark=a?.find(\".remarks\")?.text().trim();return{id,cover,title,remark}});if(!table.length)return null;return{type:isCard?\"card\":\"list\",title,videos:table}}).filter(item=>!!item);return{type:\"complex\",data:[{type:\"markdown\",extra:{markdown:`\n   > 欢迎使用小猫影视(${utils_1.kitty.VERSION})\n   > 该源仅做测试使用，不可用于其他用途\n   > 飞机交流群: https://t.me/catmovie1145\n   > 小猫其他指南: https://xmpro.netlify.app\n   `}},...cards]}}const url=`${env.baseUrl}/index.php/vodtype/${cate}-${page}/`;const $=utils_1.kitty.load(await(0,utils_1.req)(url));return $(\".hl-vod-list li\").toArray().map(item=>{const a=$(item).find(\"a\");const id=a.attr(\"href\")??\"\";const cover=a.attr(\"data-original\")??\"\";const title=a.attr(\"title\")??\"\";const remark=$(item).find(\".hl-lc-1.remarks\").text()??\"\";return{id,title,cover,remark}})","detail":"const id=env.get(\"movieId\");const url=`${env.baseUrl}${id}`;const $=utils_1.kitty.load(await(0,utils_1.req)(url));let desc=$(\".hl-col-xs-12.blurb\").text().trim().replace(\"\\u7B80\\u4ECB\\uFF1A\",\"\");if(desc==\"\\u6682\\u65E0\\u7B80\\u4ECB\")desc=\"\";const tabs=$(\".hl-plays-from a\").toArray().map(item=>{return $(item).text().trim()});const _videos=$(\".hl-tabs-box\").toArray().map(item=>{return $(item).find(\"li a\").toArray().map(item=>{const id=$(item).attr(\"href\")??\"\";const text=$(item).text()??\"\";return{id,text}})});const playlist=tabs.map((title,index)=>{const videos=_videos[index];return{title,videos}});return{desc,playlist}","search":"const wd=env.get(\"keyword\");const url=`${env.baseUrl}/vodsearch/${wd}`;const $=utils_1.kitty.load(await(0,utils_1.req)(url));return $(\".hl-one-list li\").toArray().map(item=>{const a=$(item).find(\"a\");const id=a.attr(\"href\")??\"\";const cover=a.attr(\"data-original\")??\"\";const title=a.attr(\"title\")??\"\";return{id,cover,title,remark:\"\"}})"}}},{"id":"mxvod","name":"MXVOD","api":"https://www.mxvod.com","nsfw":false,"type":1,"extra":{"gfw":false,"searchLimit":10,"js":{"category":[{"text":"首页","id":"/"},{"text":"电影","id":"dianyin"},{"text":"电视剧","id":"dianshiju"},{"text":"综艺","id":"zongyi"},{"text":"动漫","id":"dongman"},{"text":"短剧","id":"duanju"},{"text":"电影解说","id":"dianyingjieshuo"},{"text":"直播","id":"live"},{"text":"体育","id":"tiyu"}],"home":"const cate=env.get(\"category\");const page=env.get(\"page\");if(cate==\"/\"){const $=utils_1.kitty.load(await(0,utils_1.req)(env.baseUrl));const banner=$(\".swiper-container .swiper-slide\").toArray().map(item=>{const bb=$(item).find(\".banner\");const id=bb.attr(\"href\")??\"\";const title=bb.attr(\"data-name\")??\"\";const remark=bb.attr(\"data-fname\")??\"\";const cover=env.baseUrl+bb.attr(\"style\").match(/background:\\s*url\\(([^)]+)\\)/)[1];return{id,title,cover,remark}});const list=$(\".content .module\").toArray().map(item=>{if($(item).hasClass(\"homepage_homepage_channelnav\"))return null;const title=$($(item).find(\".module-title\").toArray()[0]).text().trim();const videos=$(item).find(\".module-items .module-item\").toArray().map(item=>{const a=$(item).find(\"a.module-item-title\");const id=a.attr(\"href\")??\"\";const title=a.text().trim();const cover=env.baseUrl+($(item).find(\".module-item-pic img\").attr(\"data-src\")??\"\");const remark=$(item).find(\".module-item-caption\").text().trim();return{id,title,cover,remark}});if(!videos.length)return null;return{type:\"list\",title:title,videos}}).filter(item=>!!item);return{type:\"complex\",data:[{type:\"banner\",videos:banner},{type:\"markdown\",extra:{markdown:`\n> 欢迎使用小猫影视(${utils_1.kitty.VERSION})\n> 该源仅做测试使用，不可用于其他用途\n> 飞机交流群: https://t.me/catmovie1145\n> 小猫其他指南: https://xmpro.netlify.app\n`}},...list]}}const url=`${env.baseUrl}/vodshow/${cate}--------${page}---.html`;const $=utils_1.kitty.load(await(0,utils_1.req)(url));return $($(\".module .module-list\").toArray()[0]).find(\".module-items .module-item\").toArray().map(item=>{const a=$(item).find(\"a\");const img=$(item).find(\"img\");const id=a.attr(\"href\")??\"\";let cover=img.attr(\"data-src\")??\"\";cover=`${env.baseUrl}${cover}`;const title=img.attr(\"alt\")??\"\";const remark=$(item).find(\".module-item-caption\").text()??\"\";return{id,title,cover,remark,playlist:[]}})","detail":"const id=env.get(\"movieId\");const url=`${env.baseUrl}${id}`;const $=utils_1.kitty.load(await(0,utils_1.req)(url));const desc=($($(\".video-info-header .txtone\").toArray().at(-1)).text()??\"\").trim();const tabs=$(\".play-source-tab a, .module-tab-item\").toArray().map(item=>{const name=$(item).attr(\"data-dropdown-value\")??$(item).find(\"span\").attr(\"data-dropdown-value\");return name});const playlistTable=$(\".module-player-list\").toArray().map(item=>{let id=$(item).attr(\"id\")??\"\";id=id.replace(\"glist-\",\"\");const list=$(item).find(\".sort-item a\").toArray().map(item=>{const text=($(item).text()??\"\").trim();const id=$(item).attr(\"href\")??\"\";return{text,id}});return{id:+id,list}});const playlist=tabs.map((item,index)=>{return{title:item,videos:playlistTable[index].list}});return{desc,playlist}","search":"const wd=env.get(\"keyword\");const page=env.get(\"page\");const url=`${env.baseUrl}/vodsearch/${wd}----------${page}---.html`;const $=utils_1.kitty.load(await(0,utils_1.req)(url));return $(\".module-search-item\").toArray().map(item=>{const a=$(item).find(\"a\");const img=$(item).find(\"img\");const id=a.attr(\"href\")??\"\";const title=a.attr(\"title\")??\"\";let cover=img.attr(\"data-src\")??\"\";cover=`${env.baseUrl}${cover}`;return{id,title,cover,remark:\"\",desc:\"\",playlist:[]}})","parseIframe":"return utils_1.kitty.utils.getM3u8WithIframe(env)"}}},{"id":"nivod","name":"泥视频","type":1,"nsfw":false,"api":"https://www.nivod.vip","extra":{"gfw":false,"searchLimit":16,"js":{"category":[{"text":"电影","id":"1"},{"text":"电视","id":"2"},{"text":"综艺","id":"3"},{"text":"动漫","id":"4"}],"home":"const cate=env.get(\"category\",\"1\");const page=env.get(\"page\",\"1\");const url=`https://www.nivod.vip/k/${cate}-----------/`;const html=await(0,utils_1.req)(url);const $=utils_1.kitty.load(html);return $(\".module-poster-item\").toArray().map(el=>{const $el=$(el);const title=$el.attr(\"title\")?.trim()||\"\";const id=$el.attr(\"href\")||\"\";const rawCover=$el.find(\"img\").attr(\"data-original\");const cover=rawCover?rawCover.startsWith(\"http\")?rawCover:`https://www.nivod.vip${rawCover}`:\"https://www.nivod.vip/loading.png\";const remark=$el.find(\".module-item-note\").text().trim();return{id,title,cover,desc:\"\",remark,playlist:[]}})","detail":"const id=env.get(\"movieId\");const url=`https://www.nivod.vip${id}`;const html=await(0,utils_1.req)(url);const $=utils_1.kitty.load(html);const title=$(\"title\").text().trim();const rawCover=$(\".module-item-pic img\").attr(\"data-original\");const cover=rawCover?rawCover.startsWith(\"http\")?rawCover:`https://www.nivod.vip${rawCover}`:\"https://www.nivod.vip/loading.png\";const desc=$(\".module-info-introduction-content\").text().trim();const remark=$(\".module-info-item:contains(\\\"\\u96C6\\u6570\\\") .module-info-item-content\").text().trim();const playlist=[];$(\".module-tab-items-box .module-tab-item\").each((i,el)=>{const $el=$(el);const lineTitle=$el.text().trim();const videos=[];const panel=$(\".module-list.sort-list.tab-list.his-tab-list\").eq(i);panel.find(\".module-play-list-link\").each((_,link)=>{const $link=$(link);const text=$link.text().trim();const playId=$link.attr(\"href\")||\"\";videos.push({text,id:playId})});if(videos.length>0){playlist.push({title:lineTitle,videos})}});return{id,title,cover,desc,remark,playlist}","search":"const keyword=env.get(\"keyword\");const page=env.get(\"page\",\"1\");const url=`https://www.nivod.vip/s/${encodeURIComponent(keyword)}-------------/`;const html=await(0,utils_1.req)(url);const $=utils_1.kitty.load(html);return $(\".module-card-item\").toArray().map(el=>{const $el=$(el);const title=$el.find(\".module-card-item-title a\").text().trim();const id=$el.find(\".module-card-item-title a\").attr(\"href\")||\"\";const rawCover=$el.find(\"img\").attr(\"data-original\");const cover=rawCover?rawCover.startsWith(\"http\")?rawCover:`https://www.nivod.vip${rawCover}`:\"https://www.nivod.vip/loading.png\";const remark=$el.find(\".module-item-note\").text().trim();return{id,title,cover,desc:\"\",remark,playlist:[]}})","parseIframe":"const iframe=env.get(\"iframe\");const html=await(0,utils_1.req)(`https://www.nivod.vip${iframe}`);const match=html.match(/\"url\":\"(https?:\\\\\\/\\\\\\/[^\"]+\\.m3u8)\"/);if(match){return match[1].replace(/\\\\\\//g,\"/\")}return\"\""}}},{"id":"omofun","name":"Omofun_WEB","api":"https://omofun.link","type":1,"nsfw":false,"extra":{"js":{"category":[{"text":"动漫","id":"4"},{"text":"里番","id":"5"}],"home":"const cate=env.get(\"category\");const page=env.get(\"page\");const url=`${env.baseUrl}/vod/show/id/${cate}/page/${page}.html`;const html=await req(url);const $=kitty.load(html);return $(\".module-poster-item\").toArray().map(item=>{const img=$(item).find(\"img.lazy\");const id=$(item).attr(\"href\")??\"\";const title=img.attr(\"alt\")??\"\";let cover=img.attr(\"data-original\")??\"\";if(cover.startsWith(\"//\"))cover=\"https:\"+cover;const remark=$(item).find(\".module-item-note\").text()??\"\";return{id,title,cover,desc:\"\",remark,playlist:[]}})","detail":"const id=env.get(\"movieId\");const url=`${env.baseUrl}${id}`;const html=await req(url);const $=kitty.load(html);const title=$(\"h1\").text().trim();const cover=$(\".module-info-poster img\").attr(\"data-original\")??\"\";const desc=$(\".module-info-introduction-content p\").text().trim();const remark=$(\".module-info-tag-link\").eq(0).text().trim();const baseUrl=env.baseUrl;const playlists=[];const tabItems=$(\".module-tab-item.tab-item\");const playContents=$(\".module-play-list-content\");if(tabItems.length>0&&tabItems.length===playContents.length){tabItems.each((i,el)=>{let lineTitle=$(el).text().trim();if(!lineTitle||lineTitle===\"\\u9ED8\\u8BA4\"){lineTitle=`线路${i+1}`}const videos=[];playContents.eq(i).find(\"a.module-play-list-link\").each((_,a)=>{const $a=$(a);const text=$a.find(\"span\").text().trim();let href=$a.attr(\"href\")??\"\";if(href.startsWith(\"/\")){href=`${baseUrl}${href}`}videos.push({text,id:href})});if(videos.length>0){playlists.push({title:lineTitle,videos})}})}else{playContents.each((i,el)=>{const lineTitle=`线路${i+1}`;const videos=[];$(el).find(\"a.module-play-list-link\").each((_,a)=>{const $a=$(a);const text=$a.find(\"span\").text().trim();let href=$a.attr(\"href\")??\"\";if(href.startsWith(\"/\")){href=`${baseUrl}${href}`}videos.push({text,id:href})});if(videos.length>0){playlists.push({title:lineTitle,videos})}})}return{id,title,cover,desc,remark,playlist:playlists}","search":"const keyword=env.get(\"keyword\");const page=env.get(\"page\");const url=`${env.baseUrl}/vod/search/page/${page}--.html?wd=${keyword}`;const html=await req(url);const $=kitty.load(html);return $(\".module-poster-item\").toArray().map(item=>{const img=$(item).find(\"img.lazy\");const id=$(item).attr(\"href\")??\"\";const title=img.attr(\"alt\")??\"\";let cover=img.attr(\"data-original\")??\"\";if(cover.startsWith(\"//\"))cover=\"https:\"+cover;const remark=$(item).find(\".module-item-note\").text()??\"\";return{id,title,cover,desc:\"\",remark,playlist:[]}})","parseIframe":"return kitty.utils.getM3u8WithIframe(env)"}}},{"id":"xiaoyakankan","name":"小鸭看看","api":"https://xiaoyakankan.com","type":1,"nsfw":false,"extra":{"gfw":true,"js":{"category":[{"text":"首页","id":"/"},{"text":"电影","id":"10"},{"text":"连续剧","id":"11"},{"text":"综艺","id":"12"},{"text":"动漫","id":"13"},{"text":"福利","id":"15"}],"home":"const cate=env.get(\"category\");if(cate==\"/\"){const $=utils_1.kitty.load(await(0,utils_1.req)(env.baseUrl));const titles=$(\".m4-main .m4-meta\").toArray().map(item=>{return $(item).find(\"h3\").text().trim()});const videos=$(\".m4-main .m4-list\").toArray().map(item=>{return $(item).find(\".item\").toArray().map(subItem=>{const id=$(subItem).find(\"a.link\").attr(\"href\")??\"\";const title=$(subItem).find(\"a.title\").text().trim();const remark=$(subItem).find(\".tag2\").text()??\"\";let cover=$(subItem).find(\"img.img\").attr(\"data-src\")??\"\";if(!!cover&&cover.startsWith(\"//\")){cover=`https:${cover}`}return{id,title,cover,remark}})});const list=titles.map((title,index)=>{return{type:\"list\",title,videos:videos[index]}});return{type:\"complex\",data:[{type:\"markdown\",extra:{markdown:`\n> 欢迎使用小猫影视(${utils_1.kitty.VERSION})\n> 该源仅做测试使用，不可用于其他用途\n> 飞机交流群: https://t.me/catmovie1145\n> 小猫其他指南: https://xmpro.netlify.app\n`}},...list]}}const page=env.get(\"page\");const url=`${env.baseUrl}/cat/${cate}-${page}.html`;const html=await(0,utils_1.req)(url);const $=utils_1.kitty.load(html);return $(\".m4-list .item\").toArray().map(item=>{const img=$(item).find(\"img.img\");const id=$(item).find(\"a.link\").attr(\"href\")??\"\";const title=img.attr(\"alt\")??\"\";let cover=img.attr(\"data-src\")??\"\";if(!!cover&&cover.startsWith(\"//\")){cover=`https:${cover}`}const remark=$(item).find(\".tag1\").text()??\"\";return{id,title,cover,remark,playlist:[]}})","detail":"const id=env.get(\"movieId\");const url=`${env.baseUrl}${id}`;const html=await(0,utils_1.req)(url);const $=utils_1.kitty.load(html);const div=$(\".m4-vod\");const img=div.find(\"img.img\");let cover=img.attr(\"src\")??\"\";if(!!cover&&cover.startsWith(\"//\")){cover=`https:${cover}`}let desc=$(\".more .info:last-of-type\").text()??\"\";const kPrefix=\"\\u7B80\\u4ECB\\uFF1A\";if(desc.startsWith(kPrefix)){desc=desc.replace(kPrefix,\"\")}else{desc=\"\"}const playlist=[];for(const script of $(\"body script\").toArray()){let cx=$(script).text()??\"\";if(!cx||!cx.includes(\"var pp\"))continue;cx=cx.replace(\"var pp=\",\"\");if(cx.endsWith(\";\"))cx=cx.slice(0,-1);const unsafeJSObj=eval(`(${cx})`);for(const line of unsafeJSObj.lines){const _id=line[0];const text=line[1];const urls=line[3];const videos=$(`div[data-vod='${_id}'] .list a`).toArray().map((item,index)=>{const text=$(item).text().trim();const idx=+($(item).attr(\"data-sou_idx\")??\"0\");const realUrl=urls[idx];return{text,url:realUrl}});playlist.push({title:text,videos})}}return{cover,desc,playlist}"}}},{"id":"qnys-zbkys","name":"真不卡影院","api":"https://m.dgytlt.com","nsfw":false,"type":1,"extra":{"gfw":false,"searchLimit":10,"js":{"category":[{"text":"电影","id":"1"},{"text":"电视剧","id":"2"},{"text":"综艺","id":"3"},{"text":"综艺","id":"3"},{"text":"动漫","id":"4"}],"home":"const cate=env.get(\"category\");const page=env.get(\"page\");const url=`${env.baseUrl}/vodshow/${cate}--------${page}---.html`;const html=await(0,utils_1.req)(url);const $=utils_1.kitty.load(html);return $(\".stui-vodlist li\").toArray().map(item=>{const a=$(item).find(\"a.stui-vodlist__thumb\");const id=a.attr(\"href\")??\"\";const title=a.attr(\"title\")??\"\";const cover=a.attr(\"data-original\")??\"\";const remark=a.find(\".pic-text.text-right\").text()??\"\";return{id,title,cover,remark}})","detail":"const id=env.get(\"movieId\");const url=`${env.baseUrl}${id}`;const html=await(0,utils_1.req)(url);const $=utils_1.kitty.load(html);const tabs=$(\".nav.nav-tabs li\").toArray().map(item=>{return $(item).text()??\"\"});const map=$(\".stui-panel_bd div.tab-pane\").toArray().map(item=>{return $(item).find(\"a\").toArray().map(_=>{const text=$(_).text()??\"\";const id=$(_).attr(\"href\")??\"\";return{id,text}})});const playlist=tabs.map((title,index)=>{const videos=map[index];return{title,videos}});const a=$(\".stui-pannel-box .stui-vodlist__thumb.picture.v-thumb\");const title=a.attr(\"title\")??\"\";const cover=a.find(\"img\").attr(\"data-original\")??\"\";const desc=$(\".detail.col-pd\").text()??\"\";return{id,title,cover,desc,playlist}","search":"const page=env.get(\"page\");const wd=env.get(\"keyword\");const url=`${env.baseUrl}/vodsearch/${wd}----------${page}---.html`;const html=await(0,utils_1.req)(url);const $=utils_1.kitty.load(html);return $(\".stui-vodlist__media li\").toArray().map(item=>{const a=$(item).find(\".v-thumb.stui-vodlist__thumb\");const title=a.attr(\"title\")??\"\";const cover=a.attr(\"data-original\")??\"\";const id=a.attr(\"href\")??\"\";const remark=a.find(\".pic-text.text-right\").text()??\"\";return{id,title,cover,remark}})","parseIframe":"return utils_1.kitty.utils.getM3u8WithIframe(env)"}}},{"id":"vv99kk","name":"熊猫视频","api":"https://spiderscloudcn2.51111666.com","type":1,"nsfw":true,"extra":{"gfw":false,"js":{"category":"const table=[{\"id\":\"6\",\"text\":\"OTElRTQlQkMlQTAlRTUlQUElOTI=\"},{\"id\":\"7\",\"text\":\"JUU3JUIyJUJFJUU0JUI4JTlDJUU0JUJDJUEwJUU1JUFBJTky\"},{\"id\":\"8\",\"text\":\"JUU5JUJBJUJCJUU4JUIxJTg2JUU0JUJDJUEwJUU1JUFBJTky\"},{\"id\":\"9\",\"text\":\"JUU5JUJBJUJCJUU4JUIxJTg2JUU2JTk4JUEwJUU3JTk0JUJC\"},{\"id\":\"10\",\"text\":\"JUU5JUJBJUJCJUU4JUIxJTg2JUU3JThDJUFCJUU3JTg4JUFB\"},{\"id\":\"11\",\"text\":\"JUU4JTlDJTlDJUU2JUExJTgzJUU0JUJDJUEwJUU1JUFBJTky\"},{\"id\":\"12\",\"text\":\"JUU1JUE0JUE5JUU3JUJFJThFJUU0JUJDJUEwJUU1JUFBJTky\"},{\"id\":\"13\",\"text\":\"JUU2JTk4JTlGJUU3JUE5JUJBJUU0JUJDJUEwJUU1JUFBJTky\"},{\"id\":\"14\",\"text\":\"JUU1JTgxJUI3JUU2JThCJThEJUU4JTg3JUFBJUU2JThCJThE\"},{\"id\":\"15\",\"text\":\"JUU2JTk3JUE1JUU5JTlGJUE5JUU4JUE3JTg2JUU5JUEyJTkx\"},{\"id\":\"16\",\"text\":\"JUU2JUFDJUE3JUU3JUJFJThFJUU2JTgwJUE3JUU3JTg4JUIx\"},{\"id\":\"17\",\"text\":\"JUU2JTk5JUJBJUU4JTgzJUJEJUU2JThEJUEyJUU4JTg0JUI4\"},{\"id\":\"18\",\"text\":\"JUU3JUJCJThGJUU1JTg1JUI4JUU0JUI4JTg5JUU3JUJBJUE3\"},{\"id\":\"19\",\"text\":\"JUU3JUJEJTkxJUU3JUJBJUEyJUU0JUI4JUJCJUU2JTkyJUFE\"},{\"id\":\"20\",\"text\":\"JUU1JThGJUIwJUU2JUI5JUJFJUU4JUJFJUEzJUU1JUE2JUI5\"},{\"id\":\"21\",\"text\":\"b25seWZhbnM=\"},{\"id\":\"22\",\"text\":\"JUU0JUI4JUFEJUU2JTk2JTg3JUU1JUFEJTk3JUU1JUI5JTk1\"},{\"id\":\"23\",\"text\":\"JUU3JUJCJThGJUU1JTg1JUI4JUU3JUI0JUEwJUU0JUJBJUJB\"},{\"id\":\"24\",\"text\":\"JUU5JUFCJTk4JUU2JUI4JTg1JUU2JTk3JUEwJUU3JUEwJTgx\"},{\"id\":\"25\",\"text\":\"JUU3JUJFJThFJUU5JUEyJTlDJUU1JUI3JUE4JUU0JUI5JUIz\"},{\"id\":\"26\",\"text\":\"JUU0JUI4JTlEJUU4JUEyJTlDJUU1JTg4JUI2JUU2JTlDJThE\"},{\"id\":\"27\",\"text\":\"U00lRTclQjMlQkIlRTUlODglOTc=\"},{\"id\":\"28\",\"text\":\"JUU2JUFDJUE3JUU3JUJFJThFJUU3JUIzJUJCJUU1JTg4JTk3\"},{\"id\":\"29\",\"text\":\"SCVFNSU4QiU5NSVFNyU5NSVBQg==\"}];return table.map(item=>{const{id,text}=item;const a=atob(text);const b=decodeURIComponent(a);return{id,text:b}})","home":"const cate=env.get(\"category\");const page=env.get(\"page\");const unsafeObj=JSON.parse(await req(`${env.baseUrl}/forward`,{method:\"POST\",noCache:true,data:{RecordsPage:20,command:\"WEB_GET_INFO\",content:\"\",languageType:\"CN\",pageNumber:page,typeId:cate,typeMid:1}}));return unsafeObj.data.resultList.map(item=>{return{id:item.id,cover:item.vod_pic,title:item.vod_name,remark:item.vod_class}})","detail":"const id=env.get(\"movieId\");const response=JSON.parse(await req(`${env.baseUrl}/forward`,{method:\"POST\",noCache:true,data:{command:\"WEB_GET_INFO_DETAIL\",id,languageType:\"CN\",type_Mid:\"1\"}}));const _=response.data.result;const initObj=JSON.parse(await req(`${env.baseUrl}/getDataInit`,{method:\"POST\",data:{age:31,city:\"New York\",name:\"John\"}}));const xl1=initObj.data.macVodLinkMap;let playUrl=\"\";let xl=false;const num=Math.floor(Math.random()*2+1);if(null!=xl){if(xl==1){playUrl=xl1[response.data.result.vod_server_id].LINK_1+response.data.result.vod_url}else if(xl==2){playUrl=xl1[response.data.result.vod_server_id].LINK_2+response.data.result.vod_url}else if(xl==3){playUrl=xl1[response.data.result.vod_server_id].LINK_3+response.data.result.vod_url}else{if(num==1){playUrl=xl1[response.data.result.vod_server_id].LINK_1+response.data.result.vod_url;console.log(1)}else if(num==2){playUrl=xl1[response.data.result.vod_server_id].LINK_2+response.data.result.vod_url;console.log(2)}else{playUrl=xl1[response.data.result.vod_server_id].LINK_1+response.data.result.vod_url;console.log(3)}}}return{id,title:_.vod_name,playlist:[{title:\"\\u9ED8\\u8BA4\",videos:[{url:playUrl,text:\"\\u64AD\\u653E\"}]}]}","search":"const wd=env.get(\"keyword\");const page=env.get(\"page\");const unsafeObj=JSON.parse(await req(`${env.baseUrl}/forward`,{method:\"POST\",noCache:true,data:{RecordsPage:20,command:\"WEB_GET_INFO\",content:wd,languageType:\"CN\",pageNumber:page,type:1,typeMid:1,typeId:0}}));return unsafeObj.data.resultList.map(item=>{return{id:item.id,cover:item.vod_pic,title:item.vod_name,remark:item.vod_class}})"}}},{"id":"yjbav","name":"一级棒","type":1,"nsfw":true,"api":"https://yjb.one","extra":{"js":{"category":"const table=[{\"id\":\"/\",\"text\":\"\\u9996\\u9875\"},{\"id\":\"21\",\"text\":\"JUU1JTlCJUJEJUU0JUJBJUE3JUU4JTg3JUFBJUU2JThCJThE\"},{\"id\":\"22\",\"text\":\"JUU3JUJEJTkxJUU3JUJBJUEyJUU0JUI4JUJCJUU2JTkyJUFE\"},{\"id\":\"24\",\"text\":\"JUU4JTg3JUFBJUU2JThCJThEJUU3JUIyJUJFJUU5JTgwJTg5\"},{\"id\":\"25\",\"text\":\"JUU1JTlCJUJEJUU0JUJBJUE3JUU0JUJDJUEwJUU1JUFBJTky\"},{\"id\":\"26\",\"text\":\"JUU2JTk3JUE1JUU2JTlDJUFDJUU2JTk3JUEwJUU3JUEwJTgx\"},{\"id\":\"27\",\"text\":\"JUU2JTk3JUE1JUU2JTlDJUFDJUU2JTlDJTg5JUU3JUEwJTgx\"},{\"id\":\"28\",\"text\":\"JUU2JTlDJTg5JUU3JUEwJTgxJUU3JUIyJUJFJUU5JTgwJTg5\"},{\"id\":\"34\",\"text\":\"JUU0JUJBJTlBJUU2JUI0JUIyJUU3JUIyJUJFJUU5JTgwJTg5\"},{\"id\":\"29\",\"text\":\"JUU1JUIwJThGJUU0JUJDJTk3JUU1JThGJUEzJUU1JTkxJUIz\"},{\"id\":\"30\",\"text\":\"JUU2JUFDJUE3JUU3JUJFJThFJUU3JUIyJUJFJUU5JTgwJTg5\"},{\"id\":\"31\",\"text\":\"JUU2JTg4JTkwJUU0JUJBJUJBJUU1JThBJUE4JUU2JUJDJUFC\"},{\"id\":\"32\",\"text\":\"JUU3JUJCJThGJUU1JTg1JUI4JUU0JUI4JTg5JUU3JUJBJUE3\"},{\"id\":\"33\",\"text\":\"QWklRTYlOTglOEUlRTYlOTglOUY=\"}];return table.map(item=>{const{id,text}=item;if(id==\"/\")return item;const a=atob(text);const b=decodeURIComponent(a);return{id,text:b}})","home":"const cate=env.get(\"category\");const page=env.get(\"page\");if(cate==\"/\"){const $=kitty.load(await req(env.baseUrl));const titles=$(\".category-count\").toArray().map(item=>{return $(item).text().replace(\"\\u89C2\\u770B\\u66F4\\u591A\",\"\").trim()});const videos=$(\".post-list\").toArray().map(item=>{return $(item).find(\"div.col-md-2\").toArray().map(item=>{const id=$(item).find(\"a\").attr(\"href\")??\"\";const cover=env.baseUrl+($(item).find(\"img\").attr(\"data-original\")??\"\");const title=$(item).find(\".entry-title\").text().trim();const remark=$(item).find(\".type-text\").text().trim();return{id,title,cover,remark}})});const list=titles.map((title,index)=>{return{type:\"list\",title,videos:videos[index]}});return{type:\"complex\",data:[{type:\"markdown\",extra:{markdown:`\n> 欢迎使用小猫影视(${kitty.VERSION})\n> 该源仅做测试使用，不可用于其他用途\n> 飞机交流群: https://t.me/catmovie1145\n> 小猫其他指南: https://xmpro.netlify.app\n`}},...list]}}const url=`${env.baseUrl}/vodtype/${cate}-${page}/`;const $=kitty.load(await req(url));return $(\".post-list .col-md-3\").toArray().map(item=>{const a=$(item).find(\"a\");const img=a.find(\"img\");const id=a.attr(\"href\")??\"\";let cover=img.attr(\"data-original\")??\"\";cover=`${env.baseUrl}${cover}`;const title=img.attr(\"alt\")??\"\";return{id,cover,title}})","detail":"const id=env.get(\"movieId\");const url=`${env.baseUrl}${id}`;const html=await req(url);const $=kitty.load(html);const m3u8=kitty.utils.getM3u8WithStr(html);const title=$(\".breadcrumb\").text().trim();return{id,title,playlist:[{title:\"\\u9ED8\\u8BA4\",videos:[{text:\"\\uD83D\\uDE0D\\u64AD\\u653E\",url:m3u8}]}]}"}}}]
